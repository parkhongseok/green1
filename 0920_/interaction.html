<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<style>
  canvas{
    left: 50%;
    
  }
</style>


</head>
<body>
  <canvas class="canvas" width="600" height="400" style="background:url(../image/catt.jpg)">
    이 브라우저는 집에 가고 싶습니다.
  </canvas>




  <script>
const canvas = document.querySelector('.canvas')
const ctx = canvas.getContext('2d')

const boxes = []
const mousePos = {x : 0, y : 0};

let selectedBox;

ctx.font = 'bold 30px sans-serif'

class Box { //box에 인스턴스를 생선구이는 너무 맛있어
  constructor(index, x, y, speed){
    this.index = index; 
    this.x = x; 
    this.y = y; 
    this.speed = speed;
    this.width = 100;
    this.height = 100; 
    this.draw(); 
    // 생성 시 메서드 실행
  }
  draw(){
    ctx.fillStyle = 'rgba(0,0,0,0.5)';
    ctx.fillRect(this.x, this.y, this.width, this.height);
    ctx.fillStyle = 'white';
    ctx.fillText(this.index, this.x+30, this.y+30)
  }
}


let tempX, tempY, tempSpeed;
for(let i = 0; i<10; i++){
  tempX = Math.random()*canvas.width*0.8
  tempY = Math.random()*canvas.height*0.8
  tempSpeed = Math.random() * 4 + 1;//1~5사이의 수가 랜덤덤덤덤덤덤
  boxes.push(new Box(i, tempX, tempY, tempSpeed))
}

canvas.addEventListener('click', (e)=>{
  mousePos.x = e.offsetX;
  mousePos.y = e.offsetY;
  let box;
  for(let i=0; i<boxes.length; i++){
    box = boxes[i];//boxes
  }
})


function render(){
  ctx.clearRect(0, 0, canvas.width, canvas.height)


  let box;

  for(let i=0; i<boxes.length; i++){
    box = boxes[i];

    box.x += box.speed;
    if(box.x > canvas.width){
      box.x = -box.width;
    }
    box.draw()
  }
  requestAnimationFrame(render);
}
render()


</script>
</body>
</html>